[{"contents":["std.core.core",null],"tag":"UseDecl"},{"contents":["test_main",[],null,null,[{"contents":[["ptr"],{"contents":[{"contents":"malloc","tag":"Var"},[{"argName":null,"argValue":{"contents":64,"tag":"IntLit"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Neq",{"contents":"ptr","tag":"Var"},{"contents":0,"tag":"IntLit"}],"tag":"BinOp"}},{"argName":null,"argValue":{"contents":"malloc returns non-null","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"store64","tag":"Var"},[{"argName":null,"argValue":{"contents":"ptr","tag":"Var"}},{"argName":null,"argValue":{"contents":12345,"tag":"IntLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[["val"],{"contents":[{"contents":"load64","tag":"Var"},[{"argName":null,"argValue":{"contents":"ptr","tag":"Var"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Eq",{"contents":"val","tag":"Var"},{"contents":12345,"tag":"IntLit"}],"tag":"BinOp"}},{"argName":null,"argValue":{"contents":"store64/load64","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"store8","tag":"Var"},[{"argName":null,"argValue":{"contents":"ptr","tag":"Var"}},{"argName":null,"argValue":{"contents":255,"tag":"IntLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[{"contents":"val","tag":"Var"},{"contents":[{"contents":"load8","tag":"Var"},[{"argName":null,"argValue":{"contents":"ptr","tag":"Var"}}]],"tag":"Call"}],"tag":"Assign"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Eq",{"contents":"val","tag":"Var"},{"contents":255,"tag":"IntLit"}],"tag":"BinOp"}},{"argName":null,"argValue":{"contents":"store8/load8","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"free","tag":"Var"},[{"argName":null,"argValue":{"contents":"ptr","tag":"Var"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[["lst"],{"contents":[{"contents":"list","tag":"Var"},[{"argName":null,"argValue":{"contents":8,"tag":"IntLit"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"is_list","tag":"Var"},[{"argName":null,"argValue":{"contents":"lst","tag":"Var"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"list creation","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Eq",{"contents":[{"contents":"list_len","tag":"Var"},[{"argName":null,"argValue":{"contents":"lst","tag":"Var"}}]],"tag":"Call"},{"contents":0,"tag":"IntLit"}],"tag":"BinOp"}},{"argName":null,"argValue":{"contents":"empty list length","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[{"contents":"lst","tag":"Var"},{"contents":[{"contents":"append","tag":"Var"},[{"argName":null,"argValue":{"contents":"lst","tag":"Var"}},{"argName":null,"argValue":{"contents":10,"tag":"IntLit"}}]],"tag":"Call"}],"tag":"Assign"},{"contents":[{"contents":"lst","tag":"Var"},{"contents":[{"contents":"append","tag":"Var"},[{"argName":null,"argValue":{"contents":"lst","tag":"Var"}},{"argName":null,"argValue":{"contents":20,"tag":"IntLit"}}]],"tag":"Call"}],"tag":"Assign"},{"contents":[{"contents":"lst","tag":"Var"},{"contents":[{"contents":"append","tag":"Var"},[{"argName":null,"argValue":{"contents":"lst","tag":"Var"}},{"argName":null,"argValue":{"contents":30,"tag":"IntLit"}}]],"tag":"Call"}],"tag":"Assign"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Eq",{"contents":[{"contents":"list_len","tag":"Var"},[{"argName":null,"argValue":{"contents":"lst","tag":"Var"}}]],"tag":"Call"},{"contents":3,"tag":"IntLit"}],"tag":"BinOp"}},{"argName":null,"argValue":{"contents":"list length after appends","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Eq",{"contents":[{"contents":"get","tag":"Var"},[{"argName":null,"argValue":{"contents":"lst","tag":"Var"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}}]],"tag":"Call"},{"contents":10,"tag":"IntLit"}],"tag":"BinOp"}},{"argName":null,"argValue":{"contents":"get first element","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Eq",{"contents":[{"contents":"get","tag":"Var"},[{"argName":null,"argValue":{"contents":"lst","tag":"Var"}},{"argName":null,"argValue":{"contents":1,"tag":"IntLit"}}]],"tag":"Call"},{"contents":20,"tag":"IntLit"}],"tag":"BinOp"}},{"argName":null,"argValue":{"contents":"get second element","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Eq",{"contents":[{"contents":"get","tag":"Var"},[{"argName":null,"argValue":{"contents":"lst","tag":"Var"}},{"argName":null,"argValue":{"contents":2,"tag":"IntLit"}}]],"tag":"Call"},{"contents":30,"tag":"IntLit"}],"tag":"BinOp"}},{"argName":null,"argValue":{"contents":"get third element","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Eq",{"contents":[{"contents":"get","tag":"Var"},[{"argName":null,"argValue":{"contents":"lst","tag":"Var"}},{"argName":null,"argValue":{"contents":["Neg",{"contents":1,"tag":"IntLit"}],"tag":"UnOp"}}]],"tag":"Call"},{"contents":30,"tag":"IntLit"}],"tag":"BinOp"}},{"argName":null,"argValue":{"contents":"negative indexing","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"set_idx","tag":"Var"},[{"argName":null,"argValue":{"contents":"lst","tag":"Var"}},{"argName":null,"argValue":{"contents":1,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":25,"tag":"IntLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Eq",{"contents":[{"contents":"get","tag":"Var"},[{"argName":null,"argValue":{"contents":"lst","tag":"Var"}},{"argName":null,"argValue":{"contents":1,"tag":"IntLit"}}]],"tag":"Call"},{"contents":25,"tag":"IntLit"}],"tag":"BinOp"}},{"argName":null,"argValue":{"contents":"set element","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[{"contents":"val","tag":"Var"},{"contents":[{"contents":"pop","tag":"Var"},[{"argName":null,"argValue":{"contents":"lst","tag":"Var"}}]],"tag":"Call"}],"tag":"Assign"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Eq",{"contents":"val","tag":"Var"},{"contents":30,"tag":"IntLit"}],"tag":"BinOp"}},{"argName":null,"argValue":{"contents":"pop returns last element","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Eq",{"contents":[{"contents":"list_len","tag":"Var"},[{"argName":null,"argValue":{"contents":"lst","tag":"Var"}}]],"tag":"Call"},{"contents":2,"tag":"IntLit"}],"tag":"BinOp"}},{"argName":null,"argValue":{"contents":"length after pop","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[["lst2"],{"contents":[{"contents":40,"tag":"IntLit"},{"contents":50,"tag":"IntLit"}],"tag":"ListLit"}],"tag":"VarDecl"},{"contents":[{"contents":"lst","tag":"Var"},{"contents":[{"contents":"extend","tag":"Var"},[{"argName":null,"argValue":{"contents":"lst","tag":"Var"}},{"argName":null,"argValue":{"contents":"lst2","tag":"Var"}}]],"tag":"Call"}],"tag":"Assign"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Eq",{"contents":[{"contents":"list_len","tag":"Var"},[{"argName":null,"argValue":{"contents":"lst","tag":"Var"}}]],"tag":"Call"},{"contents":4,"tag":"IntLit"}],"tag":"BinOp"}},{"argName":null,"argValue":{"contents":"extend length","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[{"contents":"lst","tag":"Var"},{"contents":[{"contents":"list_clear","tag":"Var"},[{"argName":null,"argValue":{"contents":"lst","tag":"Var"}}]],"tag":"Call"}],"tag":"Assign"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Eq",{"contents":[{"contents":"list_len","tag":"Var"},[{"argName":null,"argValue":{"contents":"lst","tag":"Var"}}]],"tag":"Call"},{"contents":0,"tag":"IntLit"}],"tag":"BinOp"}},{"argName":null,"argValue":{"contents":"clear list","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"is_int","tag":"Var"},[{"argName":null,"argValue":{"contents":42,"tag":"IntLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"is_int on integer","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Not",{"contents":[{"contents":"is_int","tag":"Var"},[{"argName":null,"argValue":{"contents":"string","tag":"StrLit"}}]],"tag":"Call"}],"tag":"UnOp"}},{"argName":null,"argValue":{"contents":"is_int on string","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"is_ptr","tag":"Var"},[{"argName":null,"argValue":{"contents":"string","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"is_ptr on string","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Not",{"contents":[{"contents":"is_ptr","tag":"Var"},[{"argName":null,"argValue":{"contents":42,"tag":"IntLit"}}]],"tag":"Call"}],"tag":"UnOp"}},{"argName":null,"argValue":{"contents":"is_ptr on integer","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"is_list","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":1,"tag":"IntLit"},{"contents":2,"tag":"IntLit"},{"contents":3,"tag":"IntLit"}],"tag":"ListLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"is_list on list","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Not",{"contents":[{"contents":"is_list","tag":"Var"},[{"argName":null,"argValue":{"contents":42,"tag":"IntLit"}}]],"tag":"Call"}],"tag":"UnOp"}},{"argName":null,"argValue":{"contents":"is_list on integer","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[["d"],{"contents":[{"contents":"dict","tag":"Var"},[{"argName":null,"argValue":{"contents":8,"tag":"IntLit"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"is_dict","tag":"Var"},[{"argName":null,"argValue":{"contents":"d","tag":"Var"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"is_dict on dict","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Not",{"contents":[{"contents":"is_dict","tag":"Var"},[{"argName":null,"argValue":{"contents":[],"tag":"ListLit"}}]],"tag":"Call"}],"tag":"UnOp"}},{"argName":null,"argValue":{"contents":"is_dict on list","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[["test_file"],{"contents":"/tmp/nytrix_core_test.txt","tag":"StrLit"}],"tag":"VarDecl"},{"contents":[["test_data"],{"contents":"Hello, Nytrix!","tag":"StrLit"}],"tag":"VarDecl"},{"contents":[["result"],{"contents":[{"contents":"file_write","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}},{"argName":null,"argValue":{"contents":"test_data","tag":"Var"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Gt",{"contents":"result","tag":"Var"},{"contents":0,"tag":"IntLit"}],"tag":"BinOp"}},{"argName":null,"argValue":{"contents":"file_write returns bytes written","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"file_exists","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"file exists after write","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[["content"],{"contents":[{"contents":"file_read","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"content","tag":"Var"}},{"argName":null,"argValue":{"contents":"test_data","tag":"Var"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"file content matches","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"file_append","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}},{"argName":null,"argValue":{"contents":" More data","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[{"contents":"content","tag":"Var"},{"contents":[{"contents":"file_read","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}}]],"tag":"Call"}],"tag":"Assign"},{"contents":{"contents":[{"contents":"print","tag":"Var"},[{"argName":null,"argValue":{"contents":"DEBUG: Content after append: '","tag":"StrLit"}},{"argName":null,"argValue":{"contents":"content","tag":"Var"}},{"argName":null,"argValue":{"contents":"'","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"str_contains","tag":"Var"},[{"argName":null,"argValue":{"contents":"content","tag":"Var"}},{"argName":null,"argValue":{"contents":"More data","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"file append works","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"file_remove","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Not",{"contents":[{"contents":"file_exists","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}}]],"tag":"Call"}],"tag":"UnOp"}},{"argName":null,"argValue":{"contents":"file removed","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[["s1"],{"contents":"hello","tag":"StrLit"}],"tag":"VarDecl"},{"contents":[["s2"],{"contents":"hello","tag":"StrLit"}],"tag":"VarDecl"},{"contents":[["s3"],{"contents":"world","tag":"StrLit"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"_str_eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"s1","tag":"Var"}},{"argName":null,"argValue":{"contents":"s2","tag":"Var"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"string equality","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Not",{"contents":[{"contents":"_str_eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"s1","tag":"Var"}},{"argName":null,"argValue":{"contents":"s3","tag":"Var"}}]],"tag":"Call"}],"tag":"UnOp"}},{"argName":null,"argValue":{"contents":"string inequality","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"}]],"tag":"FnDecl"},{"contents":{"contents":[{"contents":"test_main","tag":"Var"},[]],"tag":"Call"},"tag":"ExprDecl"},{"contents":{"contents":[{"contents":"print","tag":"Var"},[{"argName":null,"argValue":{"contents":"âœ“ std.core.core tests passed","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprDecl"}]