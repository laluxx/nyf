[{"contents":{"contents":[{"tag":"InlineComment"},"Test std.io.path - Path manipulation",0],"tag":"LineComment"},"tag":"CommentDecl"},{"contents":["std.io.path",null],"tag":"UseDecl"},{"contents":["test_main",[],null,null,[{"contents":[["p1"],{"contents":[{"contents":"path_join","tag":"Var"},[{"argName":null,"argValue":{"contents":"/home","tag":"StrLit"}},{"argName":null,"argValue":{"contents":"user","tag":"StrLit"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"p1","tag":"Var"}},{"argName":null,"argValue":{"contents":"/home/user","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"join two parts","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[["p2"],{"contents":[{"contents":"path_join","tag":"Var"},[{"argName":null,"argValue":{"contents":"/home/user","tag":"StrLit"}},{"argName":null,"argValue":{"contents":"file.txt","tag":"StrLit"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"p2","tag":"Var"}},{"argName":null,"argValue":{"contents":"/home/user/file.txt","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"join with file","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[["p3"],{"contents":[{"contents":"path_join","tag":"Var"},[{"argName":null,"argValue":{"contents":"relative","tag":"StrLit"}},{"argName":null,"argValue":{"contents":"path","tag":"StrLit"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"p3","tag":"Var"}},{"argName":null,"argValue":{"contents":"relative/path","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"join relative paths","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"basename","tag":"Var"},[{"argName":null,"argValue":{"contents":"/home/user/file.txt","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"file.txt","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"basename with path","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"basename","tag":"Var"},[{"argName":null,"argValue":{"contents":"file.txt","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"file.txt","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"basename without path","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[["b"],{"contents":[{"contents":"basename","tag":"Var"},[{"argName":null,"argValue":{"contents":"/home/user/","tag":"StrLit"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"print","tag":"Var"},[{"argName":null,"argValue":{"contents":"DEBUG: basename('/home/user/') = '","tag":"StrLit"}},{"argName":null,"argValue":{"contents":"b","tag":"Var"}},{"argName":null,"argValue":{"contents":"' len=","tag":"StrLit"}},{"argName":null,"argValue":{"contents":[{"contents":"len","tag":"Var"},[{"argName":null,"argValue":{"contents":"b","tag":"Var"}}]],"tag":"Call"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"b","tag":"Var"}},{"argName":null,"argValue":{"contents":"user","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"basename of directory","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"dirname","tag":"Var"},[{"argName":null,"argValue":{"contents":"/home/user/file.txt","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"/home/user","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"dirname with file","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"dirname","tag":"Var"},[{"argName":null,"argValue":{"contents":"/home/user/","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"/home","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"dirname of directory","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"dirname","tag":"Var"},[{"argName":null,"argValue":{"contents":"file.txt","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":".","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"dirname of file without path","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[{"contents":"p1","tag":"Var"},{"contents":[{"contents":"normalize","tag":"Var"},[{"argName":null,"argValue":{"contents":"/home/user/../file.txt","tag":"StrLit"}}]],"tag":"Call"}],"tag":"Assign"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"p1","tag":"Var"}},{"argName":null,"argValue":{"contents":"/home/file.txt","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"normalize with ..","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[{"contents":"p2","tag":"Var"},{"contents":[{"contents":"normalize","tag":"Var"},[{"argName":null,"argValue":{"contents":"/home/./user/file.txt","tag":"StrLit"}}]],"tag":"Call"}],"tag":"Assign"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"p2","tag":"Var"}},{"argName":null,"argValue":{"contents":"/home/user/file.txt","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"normalize with .","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[{"contents":"p3","tag":"Var"},{"contents":[{"contents":"normalize","tag":"Var"},[{"argName":null,"argValue":{"contents":"/home//user///file.txt","tag":"StrLit"}}]],"tag":"Call"}],"tag":"Assign"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"p3","tag":"Var"}},{"argName":null,"argValue":{"contents":"/home/user/file.txt","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"normalize multiple slashes","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"}]],"tag":"FnDecl"},{"contents":{"contents":[{"contents":"test_main","tag":"Var"},[]],"tag":"Call"},"tag":"ExprDecl"},{"contents":{"contents":[{"contents":"print","tag":"Var"},[{"argName":null,"argValue":{"contents":"âœ“ std.io.path tests passed","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprDecl"}]