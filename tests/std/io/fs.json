[{"contents":{"contents":[{"tag":"InlineComment"},"Test std.io.fs - File system operations",0],"tag":"LineComment"},"tag":"CommentDecl"},{"contents":["std.io.fs",null],"tag":"UseDecl"},{"contents":["test_main",[],null,null,[{"contents":[["test_file"],{"contents":"/tmp/nytrix_io_test.txt","tag":"StrLit"}],"tag":"VarDecl"},{"contents":[["test_data"],{"contents":"Test data for I/O","tag":"StrLit"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"file_write","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}},{"argName":null,"argValue":{"contents":"test_data","tag":"Var"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"file_exists","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"file exists after write","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[["content"],{"contents":[{"contents":"file_read","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"content","tag":"Var"}},{"argName":null,"argValue":{"contents":"test_data","tag":"Var"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"read content matches written","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"file_remove","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Not",{"contents":[{"contents":"file_exists","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}}]],"tag":"Call"}],"tag":"UnOp"}},{"argName":null,"argValue":{"contents":"file removed","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[{"contents":"test_file","tag":"Var"},{"contents":"/tmp/nytrix_append_test.txt","tag":"StrLit"}],"tag":"Assign"},{"contents":{"contents":[{"contents":"file_write","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}},{"argName":null,"argValue":{"contents":"Line 1\n","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"file_append","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}},{"argName":null,"argValue":{"contents":"Line 2\n","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"file_append","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}},{"argName":null,"argValue":{"contents":"Line 3\n","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[{"contents":"content","tag":"Var"},{"contents":[{"contents":"file_read","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}}]],"tag":"Call"}],"tag":"Assign"},{"contents":{"contents":[{"contents":"print","tag":"Var"},[{"argName":null,"argValue":{"contents":"DEBUG: fs content: '","tag":"StrLit"}},{"argName":null,"argValue":{"contents":"content","tag":"Var"}},{"argName":null,"argValue":{"contents":"'","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"str_contains","tag":"Var"},[{"argName":null,"argValue":{"contents":"content","tag":"Var"}},{"argName":null,"argValue":{"contents":"Line 1","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"contains line 1","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"str_contains","tag":"Var"},[{"argName":null,"argValue":{"contents":"content","tag":"Var"}},{"argName":null,"argValue":{"contents":"Line 2","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"contains line 2","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"str_contains","tag":"Var"},[{"argName":null,"argValue":{"contents":"content","tag":"Var"}},{"argName":null,"argValue":{"contents":"Line 3","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"contains line 3","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"file_remove","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[{"contents":"test_file","tag":"Var"},{"contents":"/tmp/nytrix_exists_test.txt","tag":"StrLit"}],"tag":"Assign"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Not",{"contents":[{"contents":"file_exists","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}}]],"tag":"Call"}],"tag":"UnOp"}},{"argName":null,"argValue":{"contents":"file doesn't exist","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"file_write","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}},{"argName":null,"argValue":{"contents":"data","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"file_exists","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"file exists after creation","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"file_remove","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Not",{"contents":[{"contents":"file_exists","tag":"Var"},[{"argName":null,"argValue":{"contents":"test_file","tag":"Var"}}]],"tag":"Call"}],"tag":"UnOp"}},{"argName":null,"argValue":{"contents":"file doesn't exist after removal","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"}]],"tag":"FnDecl"},{"contents":{"contents":[{"contents":"test_main","tag":"Var"},[]],"tag":"Call"},"tag":"ExprDecl"},{"contents":{"contents":[{"contents":"print","tag":"Var"},[{"argName":null,"argValue":{"contents":"âœ“ std.io.fs tests passed","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprDecl"}]