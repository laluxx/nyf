[{"contents":{"contents":[{"tag":"InlineComment"},"Test std.strings.str - String operations",0],"tag":"LineComment"},"tag":"CommentDecl"},{"contents":["std.strings.str",null],"tag":"UseDecl"},{"contents":["std.core.core",null],"tag":"UseDecl"},{"contents":{"contents":"\nstr/comment\n","tag":"StrLit"},"tag":"ExprDecl"},{"contents":{"contents":"\nstr/comment\n","tag":"StrLit"},"tag":"ExprDecl"},{"contents":{"contents":"\nraw str/comment\n","tag":"StrLit"},"tag":"ExprDecl"},{"contents":{"contents":"\nraw str/comment\n","tag":"StrLit"},"tag":"ExprDecl"},{"contents":{"contents":"str/comment","tag":"StrLit"},"tag":"ExprDecl"},{"contents":{"contents":"str/comment","tag":"StrLit"},"tag":"ExprDecl"},{"contents":{"contents":"raw str/comment","tag":"StrLit"},"tag":"ExprDecl"},{"contents":{"contents":"raw str/comment","tag":"StrLit"},"tag":"ExprDecl"},{"contents":["test_main",[],null,null,[{"contents":[["str_val"],{"contents":"hello","tag":"StrLit"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Eq",{"contents":[{"contents":"str_len","tag":"Var"},[{"argName":null,"argValue":{"contents":"str_val","tag":"Var"}}]],"tag":"Call"},{"contents":5,"tag":"IntLit"}],"tag":"BinOp"}},{"argName":null,"argValue":{"contents":"string length","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"str_val","tag":"Var"}},{"argName":null,"argValue":{"contents":"hello","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"string equality","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[["s1"],{"contents":"hello","tag":"StrLit"}],"tag":"VarDecl"},{"contents":[["s2"],{"contents":" world","tag":"StrLit"}],"tag":"VarDecl"},{"contents":[["s3"],{"contents":[{"contents":"concat","tag":"Var"},[{"argName":null,"argValue":{"contents":"s1","tag":"Var"}},{"argName":null,"argValue":{"contents":"s2","tag":"Var"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"s3","tag":"Var"}},{"argName":null,"argValue":{"contents":"hello world","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"concatenation","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[["s4"],{"contents":[{"contents":"concat","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"concat","tag":"Var"},[{"argName":null,"argValue":{"contents":"a","tag":"StrLit"}},{"argName":null,"argValue":{"contents":"b","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"c","tag":"StrLit"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"s4","tag":"Var"}},{"argName":null,"argValue":{"contents":"abc","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"multiple concat","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[{"contents":"str_val","tag":"Var"},{"contents":"hello world","tag":"StrLit"}],"tag":"Assign"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"slice","tag":"Var"},[{"argName":null,"argValue":{"contents":"str_val","tag":"Var"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":5,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":1,"tag":"IntLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"hello","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"slice start to middle","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"print","tag":"Var"},[{"argName":null,"argValue":{"contents":"DEBUG: str_val before second slice: '","tag":"StrLit"}},{"argName":null,"argValue":{"contents":"str_val","tag":"Var"}},{"argName":null,"argValue":{"contents":"' len=","tag":"StrLit"}},{"argName":null,"argValue":{"contents":[{"contents":"str_len","tag":"Var"},[{"argName":null,"argValue":{"contents":"str_val","tag":"Var"}}]],"tag":"Call"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"slice","tag":"Var"},[{"argName":null,"argValue":{"contents":"str_val","tag":"Var"}},{"argName":null,"argValue":{"contents":6,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":11,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":1,"tag":"IntLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"world","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"slice middle to end","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"slice","tag":"Var"},[{"argName":null,"argValue":{"contents":"str_val","tag":"Var"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":11,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":2,"tag":"IntLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"hlowrd","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"slice with step","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[{"contents":"str_val","tag":"Var"},{"contents":"hello world","tag":"StrLit"}],"tag":"Assign"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"str_contains","tag":"Var"},[{"argName":null,"argValue":{"contents":"str_val","tag":"Var"}},{"argName":null,"argValue":{"contents":"world","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"contains substring","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"str_contains","tag":"Var"},[{"argName":null,"argValue":{"contents":"str_val","tag":"Var"}},{"argName":null,"argValue":{"contents":"hello","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"contains at start","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Not",{"contents":[{"contents":"str_contains","tag":"Var"},[{"argName":null,"argValue":{"contents":"str_val","tag":"Var"}},{"argName":null,"argValue":{"contents":"xyz","tag":"StrLit"}}]],"tag":"Call"}],"tag":"UnOp"}},{"argName":null,"argValue":{"contents":"doesn't contain","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[{"contents":"str_val","tag":"Var"},{"contents":"apple,banana,cherry","tag":"StrLit"}],"tag":"Assign"},{"contents":[["parts"],{"contents":[{"contents":"split","tag":"Var"},[{"argName":null,"argValue":{"contents":"str_val","tag":"Var"}},{"argName":null,"argValue":{"contents":",","tag":"StrLit"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Eq",{"contents":[{"contents":"len","tag":"Var"},[{"argName":null,"argValue":{"contents":"parts","tag":"Var"}}]],"tag":"Call"},{"contents":3,"tag":"IntLit"}],"tag":"BinOp"}},{"argName":null,"argValue":{"contents":"split length","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"get","tag":"Var"},[{"argName":null,"argValue":{"contents":"parts","tag":"Var"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"apple","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"split first","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"get","tag":"Var"},[{"argName":null,"argValue":{"contents":"parts","tag":"Var"}},{"argName":null,"argValue":{"contents":1,"tag":"IntLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"banana","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"split second","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"get","tag":"Var"},[{"argName":null,"argValue":{"contents":"parts","tag":"Var"}},{"argName":null,"argValue":{"contents":2,"tag":"IntLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"cherry","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"split third","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[["joined"],{"contents":[{"contents":"join","tag":"Var"},[{"argName":null,"argValue":{"contents":"parts","tag":"Var"}},{"argName":null,"argValue":{"contents":",","tag":"StrLit"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"joined","tag":"Var"}},{"argName":null,"argValue":{"contents":"str_val","tag":"Var"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"join restores original","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[["joined2"],{"contents":[{"contents":"join","tag":"Var"},[{"argName":null,"argValue":{"contents":"parts","tag":"Var"}},{"argName":null,"argValue":{"contents":"-","tag":"StrLit"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"joined2","tag":"Var"}},{"argName":null,"argValue":{"contents":"apple-banana-cherry","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"join with dash","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[{"contents":"str_val","tag":"Var"},{"contents":"hello world","tag":"StrLit"}],"tag":"Assign"},{"contents":[["s2"],{"contents":[{"contents":"replace","tag":"Var"},[{"argName":null,"argValue":{"contents":"str_val","tag":"Var"}},{"argName":null,"argValue":{"contents":"world","tag":"StrLit"}},{"argName":null,"argValue":{"contents":"Nytrix","tag":"StrLit"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"s2","tag":"Var"}},{"argName":null,"argValue":{"contents":"hello Nytrix","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"replace substring","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[["s3"],{"contents":[{"contents":"replace","tag":"Var"},[{"argName":null,"argValue":{"contents":"aaa","tag":"StrLit"}},{"argName":null,"argValue":{"contents":"a","tag":"StrLit"}},{"argName":null,"argValue":{"contents":"b","tag":"StrLit"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"s3","tag":"Var"}},{"argName":null,"argValue":{"contents":"bbb","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"replace all occurrences","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[{"contents":"str_val","tag":"Var"},{"contents":"Hello World","tag":"StrLit"}],"tag":"Assign"},{"contents":[["lower"],{"contents":[{"contents":"to_lower","tag":"Var"},[{"argName":null,"argValue":{"contents":"str_val","tag":"Var"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":[["upper"],{"contents":[{"contents":"to_upper","tag":"Var"},[{"argName":null,"argValue":{"contents":"str_val","tag":"Var"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"print","tag":"Var"},[{"argName":null,"argValue":{"contents":"DEBUG: lower: '","tag":"StrLit"}},{"argName":null,"argValue":{"contents":"lower","tag":"Var"}},{"argName":null,"argValue":{"contents":"'","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"print","tag":"Var"},[{"argName":null,"argValue":{"contents":"DEBUG: upper: '","tag":"StrLit"}},{"argName":null,"argValue":{"contents":"upper","tag":"Var"}},{"argName":null,"argValue":{"contents":"'","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"lower","tag":"Var"}},{"argName":null,"argValue":{"contents":"hello world","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"to_lower","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"upper","tag":"Var"}},{"argName":null,"argValue":{"contents":"HELLO WORLD","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"to_upper","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[{"contents":"str_val","tag":"Var"},{"contents":"  hello  ","tag":"StrLit"}],"tag":"Assign"},{"contents":[["trimmed"],{"contents":[{"contents":"trim","tag":"Var"},[{"argName":null,"argValue":{"contents":"str_val","tag":"Var"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"trimmed","tag":"Var"}},{"argName":null,"argValue":{"contents":"hello","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"trim whitespace","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[["trimmed2"],{"contents":[{"contents":"trim","tag":"Var"},[{"argName":null,"argValue":{"contents":"hello","tag":"StrLit"}}]],"tag":"Call"}],"tag":"VarDecl"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"eq","tag":"Var"},[{"argName":null,"argValue":{"contents":"trimmed2","tag":"Var"}},{"argName":null,"argValue":{"contents":"hello","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"trim no whitespace","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":[{"contents":"str_val","tag":"Var"},{"contents":"hello world","tag":"StrLit"}],"tag":"Assign"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"startswith","tag":"Var"},[{"argName":null,"argValue":{"contents":"str_val","tag":"Var"}},{"argName":null,"argValue":{"contents":"hello","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"starts with","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Not",{"contents":[{"contents":"startswith","tag":"Var"},[{"argName":null,"argValue":{"contents":"str_val","tag":"Var"}},{"argName":null,"argValue":{"contents":"world","tag":"StrLit"}}]],"tag":"Call"}],"tag":"UnOp"}},{"argName":null,"argValue":{"contents":"doesn't start with","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":[{"contents":"endswith","tag":"Var"},[{"argName":null,"argValue":{"contents":"str_val","tag":"Var"}},{"argName":null,"argValue":{"contents":"world","tag":"StrLit"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":"ends with","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"},{"contents":{"contents":[{"contents":"assert","tag":"Var"},[{"argName":null,"argValue":{"contents":["Not",{"contents":[{"contents":"endswith","tag":"Var"},[{"argName":null,"argValue":{"contents":"str_val","tag":"Var"}},{"argName":null,"argValue":{"contents":"hello","tag":"StrLit"}}]],"tag":"Call"}],"tag":"UnOp"}},{"argName":null,"argValue":{"contents":"doesn't end with","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprStmt"}]],"tag":"FnDecl"},{"contents":{"contents":[{"contents":"test_main","tag":"Var"},[]],"tag":"Call"},"tag":"ExprDecl"},{"contents":{"contents":[{"contents":"print","tag":"Var"},[{"argName":null,"argValue":{"contents":"âœ“ std.strings.str tests passed","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprDecl"}]