[{"contents":["std.process.mod",null],"tag":"UseDecl"},{"contents":["std.core.test",null],"tag":"UseDecl"},{"contents":["std.io.fs",null],"tag":"UseDecl"},{"contents":["std.io.mod",null],"tag":"UseDecl"},{"contents":["std.strings.str",null],"tag":"UseDecl"},{"contents":{"contents":[{"contents":"print","tag":"Var"},[{"argName":null,"argValue":{"contents":"Testing Process...","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprDecl"},{"contents":[["res"],{"contents":[{"contents":"run","tag":"Var"},[{"argName":null,"argValue":{"contents":"/usr/bin/echo","tag":"StrLit"}},{"argName":null,"argValue":{"contents":[{"contents":"echo","tag":"StrLit"},{"contents":"hello","tag":"StrLit"}],"tag":"ListLit"}}]],"tag":"Call"}],"tag":"DefineDecl"},{"contents":{"contents":[{"contents":"print","tag":"Var"},[{"argName":null,"argValue":{"contents":"FIXME: process run fail","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprDecl"},{"contents":{"contents":[{"contents":"print","tag":"Var"},[{"argName":null,"argValue":{"contents":"Testing popen...","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprDecl"},{"contents":[["p"],{"contents":[{"contents":"popen","tag":"Var"},[{"argName":null,"argValue":{"contents":"/usr/bin/cat","tag":"StrLit"}},{"argName":null,"argValue":{"contents":[],"tag":"ListLit"}}]],"tag":"Call"}],"tag":"DefineDecl"},{"contents":[["pid"],{"contents":[{"contents":"get","tag":"Var"},[{"argName":null,"argValue":{"contents":"p","tag":"Var"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}}]],"tag":"Call"}],"tag":"DefineDecl"},{"contents":[["stdin"],{"contents":[{"contents":"get","tag":"Var"},[{"argName":null,"argValue":{"contents":"p","tag":"Var"}},{"argName":null,"argValue":{"contents":1,"tag":"IntLit"}}]],"tag":"Call"}],"tag":"DefineDecl"},{"contents":[["stdout"],{"contents":[{"contents":"get","tag":"Var"},[{"argName":null,"argValue":{"contents":"p","tag":"Var"}},{"argName":null,"argValue":{"contents":2,"tag":"IntLit"}}]],"tag":"Call"}],"tag":"DefineDecl"},{"contents":[["msg"],{"contents":"hello pipe","tag":"StrLit"}],"tag":"DefineDecl"},{"contents":{"contents":[{"contents":"rt_syscall","tag":"Var"},[{"argName":null,"argValue":{"contents":1,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":"stdin","tag":"Var"}},{"argName":null,"argValue":{"contents":"msg","tag":"Var"}},{"argName":null,"argValue":{"contents":[{"contents":"str_len","tag":"Var"},[{"argName":null,"argValue":{"contents":"msg","tag":"Var"}}]],"tag":"Call"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}}]],"tag":"Call"},"tag":"ExprDecl"},{"contents":{"contents":[{"contents":"rt_syscall","tag":"Var"},[{"argName":null,"argValue":{"contents":3,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":"stdin","tag":"Var"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}}]],"tag":"Call"},"tag":"ExprDecl"},{"contents":[["buf"],{"contents":[{"contents":"rt_malloc","tag":"Var"},[{"argName":null,"argValue":{"contents":100,"tag":"IntLit"}}]],"tag":"Call"}],"tag":"DefineDecl"},{"contents":[["nr"],{"contents":[{"contents":"rt_syscall","tag":"Var"},[{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":"stdout","tag":"Var"}},{"argName":null,"argValue":{"contents":"buf","tag":"Var"}},{"argName":null,"argValue":{"contents":100,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}}]],"tag":"Call"}],"tag":"DefineDecl"},{"contents":{"contents":"stmt","tag":"Var"},"tag":"ExprDecl"},{"contents":{"contents":[{"contents":"store8","tag":"Var"},[{"argName":null,"argValue":{"contents":["Add",{"contents":"buf","tag":"Var"},{"contents":"nr","tag":"Var"}],"tag":"BinOp"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}}]],"tag":"Call"},"tag":"ExprDecl"},{"contents":{"contents":[{"contents":"print","tag":"Var"},[{"argName":null,"argValue":{"contents":"Pipe output:","tag":"StrLit"}},{"argName":null,"argValue":{"contents":"buf","tag":"Var"}}]],"tag":"Call"},"tag":"ExprDecl"},{"contents":{"contents":[{"contents":"print","tag":"Var"},[{"argName":null,"argValue":{"contents":"FIXME: pipe echo match","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprDecl"},{"contents":{"contents":[{"contents":"waitpid","tag":"Var"},[{"argName":null,"argValue":{"contents":"pid","tag":"Var"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}}]],"tag":"Call"},"tag":"ExprDecl"},{"contents":{"contents":[{"contents":"rt_syscall","tag":"Var"},[{"argName":null,"argValue":{"contents":3,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":"stdout","tag":"Var"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}},{"argName":null,"argValue":{"contents":0,"tag":"IntLit"}}]],"tag":"Call"},"tag":"ExprDecl"},{"contents":{"contents":[{"contents":"print","tag":"Var"},[{"argName":null,"argValue":{"contents":"âœ“ std.process.mod passed","tag":"StrLit"}}]],"tag":"Call"},"tag":"ExprDecl"}]